<!DOCTYPE html>
<html>
<body>

<p>
  David Romanski<br>
  JavaScript Exercises<br>
  04/09/2020<br>
  Eloquent Javascript<br>
  Chapter 4: Deep Comparison
  Comments: Take two values and return true if they are the same value or are objects with the same properties, where the values are equal.
</p>

<p id="exercise"></p>

<script>
	function deepEqual(obj1, obj2) {
		if (obj1 === obj2)
			return true;

		if(obj1 == null || typeof obj1 != "object")
			return false;

		if(obj2 == null || typeof obj2 != "object")
			return false;

		var keysObj1 = Object.keys(obj1);
		var keysObj2 = Object.keys(obj2);

		if (keysObj1.length != keysObj2.length)
			return false;

		for (let key of keysObj1)
			if (!keysObj2.includes(key) || !deepEqual(obj1[key], obj2[key]))
				return false;

		return true;
	}

	var output = "";

	var obj = {here: {is: "an"}, object: 2};

	output += (deepEqual(obj, obj)) + "<br>";
	// → true
	
	output += (deepEqual(obj, {here: 1, object: 2}) + "<br>");
	// → false
	
	output += (deepEqual(obj, {here: {is: "an"}, object: 2}));
	// → true

	document.getElementById("exercise").innerHTML = output;
</script>

</body>
</html>