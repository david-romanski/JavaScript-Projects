<!DOCTYPE html>
<html>
<body>

<p>
  David Romanski<br>
  JavaScript Exercises<br>
  Created: 02/24/2020<br>
  Updated: 04/08/2020 04/09/2020<br>
  Eloquent Javascript<br>
  Chapter 4: The Sum Of A Range
  Comments: Write a range function that returns an array from beginning to end inclusive. Then write a function that returns the sum of array. As a bonus add a third argument in range that performs as a stepper.
  Updated to add inputs and validation.
</p>

<p>
  <form id="input" action"" onsubmit="sumOfRange();return false" class="my-form">
    Please submit the start and the end of the range and the step of the range:
    <input type="text" size=4 id="startRange">
    <input type="text" size=4 id="endRange">
    <input type="text" size=4 id="stepRange">
    <input type="submit" value=Submit>
  </form>
</p>

<p id="exercise"></p>

<script>
  function range(start, end, step) {
    var rangeArray = [];

    if (arguments.length == 2) {
      step = 1;
    }

    if (start < end) {
      for (var i = start; i <= end; i += step) {
        rangeArray.push(i);
      }
    } else {
      for (var i = start; i >= end; i += step) {
        rangeArray.push(i);
      }
    }
    return rangeArray;
  }

  function sum(rangeArray) {
    var sumArray = 0;
    for (var i = 0; i <= rangeArray.length - 1; i++) {
      sumArray += rangeArray[i];
    }
    return sumArray;
  }

  function sumOfRange() {
    var startRange = document.getElementById("startRange").value;
    var endRange = document.getElementById("endRange").value;
    var stepRange = document.getElementById("stepRange").value;

    if (!(Number.isInteger(+startRange))) alert("startRange");
    if (!(Number.isInteger(+endRange))) alert("endRange");
    if (!(Number.isInteger(+stepRange))) alert("stepRange");

    if ((+startRange < +endRange) && (+stepRange < 0))
      alert("That step doesn't make sense.")
    if ((+startRange > +endRange) && (+stepRange > 0))
      alert("That step doesn't make sense.")

    var output = "";
    output += "The sum is: ";
    output += sum(range(+startRange,+endRange,+stepRange));

    document.getElementById("exercise").innerHTML = output;
  }
</script>

</body>
</html>
