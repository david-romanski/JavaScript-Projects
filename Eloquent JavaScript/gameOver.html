<!DOCTYPE html>
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="css/game.css">
  <script src="16_game.js"></script>
  <script src="levels.js"></script>
</head>
<html>
<body>

<p>
  David Romanski<br>
  JavaScript Exercises<br>
  Created: 04/20/2020<br>
  Eloquent Javascript<br>
  Chapter 16: Game Over<br>
  Comments: Add lives and a game over to platform game.
</p>


<body>
<script>
  // The old runGame function. Modify it...
  async function runGame(plans, Display) {
    let lives = 3;
    for (let level = 0; level < plans.length && lives > 0;) {
      console.log(`Level ${level + 1}, lives: ${lives}`);
      let status = await runLevel(new Level(plans[level]),
                                  Display);
      if (status == "won") level++;
      else lives--;
    }
    if (lives > 0) {
      console.log("You've won!");
    } else {
      console.log("Game over");
    }
  }
  runGame(GAME_LEVELS, DOMDisplay);
</script>
</body>